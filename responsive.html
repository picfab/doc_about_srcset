<!doctype html>
<html lang="en-US">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Responsive HTML images demo</title>
    <style>
      img {
        width: 100%;
        max-width: 300px;
      }
    </style>
  </head>

  <body>
    <img id="img" srcset="
              ./img/3x-600.png 400w,
              ./img/3x-1000.png 800w,     
              ./img/3x+1000.png 1200w
              " sizes="
              (max-width: 600px) 800px,
              (max-width: 1000px) 400px,
              (max-width: 1200px) 200px,
              1000px
              " src="./img/3x+1000.png" alt="test" onload="showUrl()">
    <script>
      function showUrl() {
        const img = document.getElementById("img");
        const p = document.createElement("p");
        const fileName = img.currentSrc?.substring(
          img.currentSrc.lastIndexOf("/"),
        );
        p.textContent = `Loaded: ${fileName}`;
        document.body.appendChild(p);

        const largeurIntrinseque = img.naturalWidth;
        const hauteurIntrinseque = img.naturalHeight;

        const w = document.createElement("p");
        w.textContent = `Dimension fichier: ${largeurIntrinseque} px / ${hauteurIntrinseque} px`;
        document.body.appendChild(w);


        const w2 = document.createElement("p");
        w2.textContent = `Dimension à l'écran: ${img.offsetWidth} px / ${img.offsetHeight} px`;
        document.body.appendChild(w2);

        const ecran = document.createElement("p");
        ecran.textContent = `écran: ${window.innerWidth} px / ${window.innerHeight} px`;
        document.body.appendChild(ecran);

        const w3 = document.createElement("p");
        w3.textContent = `Dimension réel: 1280 × 720`;
        document.body.appendChild(w3);

      }
    </script>
  </body>

</html>